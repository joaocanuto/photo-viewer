<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Imagens</title>
    <style>
        #gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .image-container {
            text-align: center;
        }

        .image-container img {
            display: block;
            max-width: 250px;
            height: auto;
            margin-bottom: 5px;
        }

        .copy-button {
            padding: 8px 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Minhas Imagens</h1>

    <div id="gallery">
        </div>

    <script>
        const galleryDiv = document.getElementById('gallery');
        const baseUrl = "https://joaocanuto.github.io/photo-viewer/assets/";

        const imagesData = [
            {
                src: "assets/dia-dos-namorados/66-20250408_122740.jpg",
                title: "Buquê de Rosas Vermelhas"
            },
            {
                src: "assets/dia-dos-namorados/73-20250408_150715.jpg",
                title: "Caixa de Chocolates Finos"
            },
            {
                src: "assets/dia-dos-namorados/92-20250408_151110.jpg",
                title: "Anel de Prata com Detalhe"
            },
            {
                src: "assets/dia-dos-namorados/125-20250408_152115.jpg",
                title: "Urso de Pelúcia Grande"
            }
            // Adicione mais objetos de imagem aqui com 'src' e 'title'
        ];

        imagesData.forEach(imageData => {
            const imageContainer = document.createElement('div');
            imageContainer.classList.add('image-container');

            const img = document.createElement('img');
            img.src = imageData.src;
            img.alt = imageData.title;

            const button = document.createElement('button');
            button.classList.add('copy-button');
            button.dataset.imageName = imageData.title;
            button.textContent = 'Copiar Link';

            imageContainer.appendChild(img);
            imageContainer.appendChild(button);
            galleryDiv.appendChild(imageContainer);
        });

        galleryDiv.addEventListener('click', function(event) {
            if (event.target.classList.contains('copy-button')) {
                const button = event.target;
                const imageName = button.dataset.imageName;
                const imageContainer = button.parentNode;
                const imageElement = imageContainer.querySelector('img');

                if (imageElement) {
                    const imageSource = imageElement.getAttribute('src');
                    const imagePathParts = imageSource.split('/');
                    const finalImagePath = imagePathParts.slice(1).join('/');

                    const fullLink = `${baseUrl}${finalImagePath}`;

                    navigator.clipboard.writeText(fullLink)
                        .then(() => {
                            alert(`Link para "${imageName}" copiado!`);
                        })
                        .catch(err => {
                            console.error('Falha ao copiar o link: ', err);
                            alert(`Erro ao copiar o link para "${imageName}".`);
                        });
                }
            }
        });
    </script>
</body>
</html>